##############################################################################
# Title: Act Seven
# Date: 1/7/2026
##############################################################################
"""this contains all dialouge and options for act seven"""
##############################################################################
# Imports and Global Variables -----------------------------------------------
import utils
# put text varibles and list for options here
# ==============================
# ACT 8 VARIABLES
# ==============================

# SCENE: AFTERMATH — “YOU FORGOT SOMETHING”
act8_aftermath_intro = '''
You return to the academy battered, singed, and very much alive.
The forest fades behind you.
The dragon is gone.
Sir Valemont is alive.
You are—miraculously—not dragon food.
Students whisper louder now.
Faculty watches you with concern.
Someone actually bows.
You limp into your dorm, collapse onto your bed, and let out a long breath.
“…I survived,” you mumble.
“Again.”
For the first time in weeks, nothing immediately tries to kill you.
The silence feels… wrong.
Then—
A translucent window snaps open above your face.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Oops.
━━━━━━━━━━━━━━━━━━━━━━

You squint at it.
“…Oops?”
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
We may have forgotten to remind you of something.
Very minor.
Very small.
Practically insignificant.
━━━━━━━━━━━━━━━━━━━━━━

Your stomach drops.
“What,” you ask slowly, “did you forget?”
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Your final exam.
━━━━━━━━━━━━━━━━━━━━━━

You sit straight up.
“…My what.”
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
You are, technically, a student.
At an academy.
With a graduation requirement.
Strange how nearly dying multiple times makes one forget academic responsibilities.
━━━━━━━━━━━━━━━━━━━━━━

“You let me fight a dragon,” you hiss.
“And NOW you remember school?!”
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
In our defense,
You were very entertaining.
━━━━━━━━━━━━━━━━━━━━━━

A pause.
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Final Challenge Unlocked.
Objective: Graduate from Academia Fortunae.
Failure Consequence: Death.
Naturally.
━━━━━━━━━━━━━━━━━━━━━━

You stare at the ceiling.
“…Of course.”
'''

# TIME SKIP — ONE WEEK LATER
act8_final_exam_intro = '''
The week crawls by.
Cramming.
Whispers.
Stolen glances.
The Crown Prince finds excuses to sit near you.
The Duke watches you carefully now, pride wounded but respect earned.
The Magician remains distant—present, but unreadable.
The Beings of Higher Power hum with anticipation.
On the seventh day—
The map appears again.
[ADD MAP HERE]

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Navigation Initialized.
Final Location: Final Exam Hall.
Attendance: Mandatory.
This is it, Player.
━━━━━━━━━━━━━━━━━━━━━━

Your chest tightens.
“…This decides everything, doesn’t it?”
━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Correct.
━━━━━━━━━━━━━━━━━━━━━━

You step forward.
'''

# SCENE: FINAL EXAM HALL — “THE ENDING AWAITS”
act8_final_exam_hall = '''
The hall is vast.
Marble floors.
Floating sigils.
Ancient magic humming in the air.
Students sit in rows.
The faculty observes from above.
And at the far edges of the room—
The three men who changed everything.
The Crown Prince.
The Duke Heir.
The Magic Tower Master.
They are watching you.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Final Evaluation Commencing.
Criteria:
 • Intelligence
 • Resolve
 • Emotional growth
 • Survival Instincts
 • Love Points Accumulated
Pass to graduate.
Fail to perish.
━━━━━━━━━━━━━━━━━━━━━━

You swallow.
“…No pressure.”
The exam begins.
[add exam game match des here]
'''

# FINAL EXAM PASS
act8_final_exam_pass = '''
— IF YOU PASS —
The sigils flare.
Then fade.
Silence.
Then—

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Congratulations, Player.
You have passed the final exam.
Academia Fortunae Graduate Status: CONFIRMED.
━━━━━━━━━━━━━━━━━━━━━━

Applause erupts.
Faculty nods in approval.
The Beings of Higher Power cheer shamelessly.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Current Love Points Summary:
(Highest Affection Will Determine Ending)
━━━━━━━━━━━━━━━━━━━━━━

SYSTEM MESSAGE:
However—
As a special reward, you may choose.
'''

# ALL ENDINGS
act8_endings = '''
FINAL PLAYER CHOICE
1. Accept your highest Love Point ending.
2. Accept the Elixir of Life and return to your original world.

CROWN PRINCE ENDING
“QUEEN OF THE REALM”
The exam hall dissolves into light.
When your vision clears, you’re standing on a balcony overlooking the capital—golden spires, banners fluttering, the sound of the city breathing beneath you.
A familiar presence stands beside you.
Alexander Aurelion.
He turns, crimson eyes soft instead of calculating.
ALEX:
“So… you really did it.”
You laugh weakly.
“I think I blacked out halfway through.”
He steps closer, removing his gloves.
ALEX:
“You faced assassins, dragons, and divine nonsense.”
A pause.
“…An exam was never going to stop you.”
He hesitates—then kneels.
The world stops.
ALEX:
“I was born into duty.”
“I was taught love was a weakness.”
His gaze lifts to yours.
“And then you survived everything I couldn’t protect you from.”
A small smile.
ALEX:
“Rule with me.”
Your answer doesn’t need words.
When he kisses you, it’s not royal.
It’s real.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Ending Unlocked: Queen of the Realm
Status: Married
Survival: Permanent
━━━━━━━━━━━━━━━━━━━━━━

DUKE ENDING
“DUCHESS OF STEEL”
The exam hall empties.
Rain falls outside the academy walls.
You find him waiting beneath an old oak—armor half-removed, posture stiff.
Sir Valemont.
He doesn’t look at you at first.
DUKE:
“…I was wrong about you.”
You raise a brow.
“That’s your big confession?”
A huff of laughter escapes him—short, surprised.
DUKE:
“I thought you were a threat.”
“Then you became a liability.”
He finally meets your eyes.
“…Then you saved my life.”
He steps closer.
DUKE:
“I don’t know how to be gentle.”
“But I will be loyal. To the end.”
You reach out first.
The kiss is fierce. Certain. Earned.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Ending Unlocked: Duchess of Steel
Status: Married
Survival: Hardened
━━━━━━━━━━━━━━━━━━━━━━

MAGICIAN / ASSASSIN ENDING
“SHADOW AND FLAME”
No throne.
No audience.
Just the two of you standing at the edge of the Magic Tower as dawn breaks.
Theron doesn’t face you.
THERON:
“You could have chosen safety.”
You shrug.
“I got bored.”
A quiet breath—almost a laugh.
THERON:
“I have killed for less interesting reasons.”
He turns.
For once, his eyes aren’t guarded.
THERON:
“I don’t know how to live quietly.”
“…But I want to try. With you.”
You pull him into a kiss before he can retreat.
He freezes—
Then melts.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Ending Unlocked: Shadow and Flame
Status: Partners
Lifestyle: Dangerously Profitable
━━━━━━━━━━━━━━━━━━━━━━

RETURN ENDING
“AWAKE”
Light floods everything.
Pain.
Then warmth.
You wake to sobbing.
Your mother’s hand grips yours like she’s afraid you’ll vanish.
Your father’s voice cracks.
Your sister laughs through tears.
MOTHER:
“She’s awake—she’s awake—”
The machines beep steadily.
No system.
No map.
No love points.
Just life.
As your eyes close again—safe this time—you swear you hear distant voices arguing.
'''

# SECRET / UNOBSERVABLE OUTCOME
act8_unobservable_outcome = '''
SECRET ENDING
“THE UNOBSERVABLE OUTCOME”
(Unlocked only when all Love Points are within a razor-thin margin)

The exam hall doesn’t fade.
It stutters.
The marble floor fractures into light.
The system window flickers, recalculates, then freezes.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
ERROR.
Affection values overlapping.
This result was not accounted for.
━━━━━━━━━━━━━━━━━━━━━━

“…What?” you say.
The world collapses inward.

WHITE VOID — NO LOCATION DATA
You stand alone.
Then—
Footsteps.
Alexander appears first, crown absent, expression stripped of ceremony.
Valemont materializes next, arms crossed, jaw tight.
Finally—
A ripple in the air.
Theron steps out of shadow like he’s always been here.
The silence is dangerous.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Active Love Points:
• Crown Prince: ???
• Duke Heir: ???
• Magician / Assassin: ???
Difference detected: negligible.
Conclusion: Indeterminate.
━━━━━━━━━━━━━━━━━━━━━━

Alexander exhales slowly.
ALEX:
“…I was told this would end cleanly.”
Valemont scoffs.
DUKE:
“You don’t get clean endings in war. Or with her.”
Theron’s gaze never leaves you.
THERON:
“So this is what happens when you survive too well.”
You raise your hands.
“Hey. I didn’t rig the system.”
The air shudders.

THE BEINGS OF HIGHER POWER DESCEND
They look… nervous.
Which is new.
BEINGS:
“This outcome violates narrative balance.”
“Romantic convergence was not—”
“—meant to be mutual.”
You tilt your head.
“So what now?”
The system whirs. Overheats.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Proposed Solutions:
Force a single route.

Memory wipe.

Player termination.

…Accept anomaly.
━━━━━━━━━━━━━━━━━━━━━━

Alexander steps forward.
ALEX:
“If you force her—”
Valemont’s hand tightens on his sword.
DUKE:
“You’ll lose her.”
Theron finally smiles. Small. Dangerous.
THERON:
“And then you’ll lose interest.”
The Beings hesitate.
That’s when you speak.

PLAYER:
“I didn’t survive all of this just to be reduced to a statistic.”
You look at all three of them.
“I care about you.”
“All of you.”
“And I’m done pretending that’s impossible.”
The system goes quiet.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
New Ending Condition Recognized.
Player Agency Override: ACCEPTED.
━━━━━━━━━━━━━━━━━━━━━━

The Beings recoil.
BEINGS:
“…She chose all of them.”

RESOLUTION SCENE
The world reforms.
Not a throne room.
Not a battlefield.
A wide horizon beneath a rising sun.
Alexander stands at your side—steady, warm.
Valemont remains close—protective, unyielding.
Theron lingers just behind you—shadow and flame, watching your back.
No one speaks at first.
Then—
ALEX (quiet):
“I won’t cage you.”
DUKE:
“I won’t share lightly.”
Theron meets your eyes.
THERON:
“But I will stay.”
You reach out.
They don’t pull away.
They adjust.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
Ending Unlocked: The Unobservable Outcome
Status: Unprecedented
Relationship Type: Undefined (Stable… for now)
Survival Probability: Exceptionally High
━━━━━━━━━━━━━━━━━━━━━━

The Beings of Higher Power argue in the distance.
BEINGS:
“This breaks tradition!”
“This breaks balance!”
“…This breaks the game.”
The system responds calmly.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM:
Correction.
The Player completed it.
'''

# POST-CREDITS SCENE
act8_post_credits = '''
FINAL LINE
As you walk forward—together—you feel something unfamiliar.
Not fear.
Not obligation.
Choice.
Fade to black.

POST-CREDITS SCENE
“THE BEINGS DEBRIEF”
A dark void.
Three glowing entities sit around a table.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
EXTRA CREDIT: SURVIVE
Edition 1: You Should’ve Been Worth More Love Points
Status: Complete
Would you like to play again?
━━━━━━━━━━━━━━━━━━━━━━

BEING #1:
“Well?”
BEING #2:
“She survived.”
BEING #3:
“…And broke the game.”
A pause.
BEING #1:
“Should we reset the world?”
Silence.
BEING #2:
“…No.”
BEING #3:
“She was fun.”
A new screen flickers to life.
The Beings smile.

━━━━━━━━━━━━━━━━━━━━━━
SYSTEM MESSAGE:
EXTRA CREDIT: SURVIVE
Edition 1: ???
Status: ???
━━━━━━━━━━━━━━━━━━━━━━

Fade to black.
'''




# Functions and Classes ------------------------------------------------------
def act_eight(player):
    utils.wait_for_continue(player)
    utils.clear()

    # Story Segments
    story_segments = [
        act8_aftermath_intro,  # SCENE: AFTERMATH — “YOU FORGOT SOMETHING”
        act8_final_exam_intro,  # TIME SKIP — ONE WEEK LATER
        act8_final_exam_hall,  # SCENE: FINAL EXAM HALL — “THE ENDING AWAITS”
        act8_final_exam_pass,  # Pass section
        act8_endings,           # All endings (Crown Prince, Duke, Magician/Assassin, Return, Secret)
        act8_unobservable_outcome,  # Secret/unobservable outcome
        act8_post_credits        # POST-CREDITS SCENE
    ]

    # Display story segments
    for segment in story_segments:
        utils.print_story(segment, player)

    # Final Player Choice placeholder
    choice = None  # Replace with actual player choice system
    
    if choice == "highest_love_point":
        # Handle highest love point ending
        utils.clear()
        utils.print_story(act8_highest_love_point, player)
        # Update Love Points/Status if needed
        utils.wait_for_continue(player)
        utils.clear()
    elif choice == "elixir_of_life":
        # Handle return ending
        utils.clear()
        utils.print_story(act8_return_ending, player)
        utils.wait_for_continue(player)
        utils.clear()
    else:
        # Secret / Unobservable Outcome
        utils.clear()
        utils.print_story(act8_unobservable_outcome, player)
        utils.wait_for_continue(player)
        utils.clear()

    # End of Act 8
    utils.print_story("FINAL LINE: As you walk forward—together—you feel something unfamiliar. Not fear. Not obligation. Choice. Fade to black.", player)
    utils.wait_for_continue(player)
    utils.clear()
